#!/bin/bash

HELPER="ddc-brightness"

# Get current brightness
cur=$($HELPER get 2>/dev/null || echo 50)
[[ ! "$cur" =~ ^[0-9]+$ ]] && cur=50

# Show slider and get value
val=$(zenity --scale \
  --title "Monitor Brightness" \
  --text "Adjust monitor brightness" \
  --min-value=0 --max-value=100 --value="$cur" \
  --width=420 2>/dev/null)

# Set brightness if OK was clicked
[[ -n "$val" ]] && [[ "$val" =~ ^[0-9]+$ ]] && $HELPER set "$val"
